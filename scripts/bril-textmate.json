{
  "name": "bril",
  "scopeName": "source.bril",
  "fileTypes": [
    "bril"
  ],
  "patterns": [
    {
      "match": "#.*$",
      "name": "comment.line"
    },
    {
      "match": "\\b(true|false)\\b",
      "name": "constant.boolean"
    },
    {
      "match": "\\b-?\\d+\\b",
      "name": "constant.numeric.int"
    },
    {
      "match": "\\b([0-9]+\\.?[0-9]*)\\b",
      "name": "constant.numeric.float"
    },
    {
      "match": "\\b(int|bool|float|char)\\b",
      "name": "storage.type"
    },
    {
      "match": "\\b(jmp|br|ret|print|nop|speculate|guard|commit)\\b",
      "name": "keyword.operator"
    },
    {
      "match": "\\b(id|const|add|mul|sub|div|eq|lt|gt|le|ge|not|and|or)\\b",
      "name": "keyword.operator"
    },
    {
      "begin": "^(\\w+:)",
      "end": "$",
      "name": "entity.name.tag",
      "patterns": [
        {
          "match": "\\w+",
          "name": "variable.argument"
        }
      ]
    },
    {
      "begin": "(\\b\\w+\\b)\\s*:\\s*(int|bool|float|char)",
      "end": ";",
      "name": "meta.instruction.value.bril",
      "patterns": [
        {
          "match": "\\b\\w+\\b",
          "name": "variable.language"
        },
        {
          "match": "(int|bool|float|char)",
          "name": "support.type"
        }
      ]
    },
    {
      "begin": "^(\\b\\w+\\b)\\s*\\{",
      "end": "\\}",
      "name": "meta.function.bril",
      "patterns": [
        {
          "include": "#comment"
        },
        {
          "include": "#label"
        },
        {
          "include": "#value_instruction"
        },
        {
          "include": "#branch_instruction"
        },
        {
          "include": "#effect_instruction"
        }
      ]
    }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "match": "#.*$",
          "name": "comment.line"
        }
      ]
    },
    "label": {
      "patterns": [
        {
          "begin": "^(\\w+:)",
          "end": "$",
          "name": "entity.name.tag",
          "patterns": [
            {
              "match": "\\w+",
              "name": "variable.other"
            }
          ]
        }
      ]
    },
    "value_instruction": {
      "patterns": [
        {
          "begin": "(\\b\\w+\\b)\\s*:\\s*(int|bool|float|char)",
          "end": ";",
          "name": "meta.instruction.value.bril",
          "patterns": [
            {
              "match": "\\b\\w+\\b",
              "name": "variable.language"
            },
            {
              "match": "(int|bool|float|char)",
              "name": "support.type"
            }
          ]
        }
      ]
    },
    "branch_instruction": {
      "patterns": [
        {
          "begin": "\\bbr\\b",
          "end": ";",
          "name": "keyword.operator"
        }
      ]
    },
    "effect_instruction": {
      "patterns": [
        {
          "begin": "\\b(jmp|br|ret|print|nop|speculate|guard|commit)\\b",
          "end": ";",
          "name": "keyword.operator"
        }
      ]
    }
  }
}
